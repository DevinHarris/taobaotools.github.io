function convertURLs(o){var t=[],a=[];return o.forEach(function(o){isTaobaoURL(o)?t.push(convertURL(o)):a.push(o)}),{valid:t,invalid:a}}function convertURL(o){if(contains(o,"world.tmall.com"))return TMALL_URL+getID(o,ITEM_ID);if(contains(o,M_INTL)||contains(o,H5))return buildTaobaoURL(o,ITEM_ID,!1);if(contains(o,WORLD)){if(contains(o,"item"))return buildTaobaoURL(o,ITEM,!1);var t=o.replace("world.taobao.com","taobao.com");return cleanTaobaoStore(t)}return contains(o,SHOP_M)?buildTaobaoURL(o,SHOP_ID,!0):contains(o,"item")?buildTaobaoURL(o,"id=",!1):cleanTaobaoStore(o)}function getID(o,t){for(var a=o.indexOf(t)+t.length,n=o.length,i=a;i<o.length;i++)if(!isDigit(o.charAt(i))){n=i;break}return o.substring(a,n)}function buildTaobaoURL(o,t,a){if(a){var n=getID(o,t);return SHOP_URL.replace("{}",n)}var i=getID(o,t);return TAOBAO_URL+i}function cleanTaobaoStore(o){var t=o.indexOf("taobao.com/");return-1==t?o:(t+=10,contains(o,"search.htm")?o.substring(0,t)+SEARCH_QUERY:o.substring(0,t))}function isTaobaoURL(o){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return t.test(o)&&(-1!=o.indexOf("taobao.com")||-1!=o.indexOf("tmall.com"))}function contains(o,t){return-1!=o.indexOf(t)}function isDigit(o){return o=o.charCodeAt(0),o>=48&&57>=o}const ITEM_ID="id=",ITEM="item/",SHOP_ID="shop_id=",TAOBAO_URL="https://item.taobao.com/item.htm?id=",TMALL_URL="https://detail.tmall.com/item.htm?id=",SHOP_URL="https://shop{}.taobao.com",M_INTL="m.intl.taobao.com",H5="h5.m.taobao.com",WORLD="world.taobao.com",SHOP_M="shop.m.taobao.com",SEARCH_QUERY="/search.htm?search=y";