function convertURLs(o){var t=[],a=[];return o.forEach(function(o){isTaobaoURL(o)?t.push(convertURL(o)):a.push(o)}),{valid:t,invalid:a}}function convertURL(o){return contains(o,"world.tmall.com")?(id=getID(o,ITEM_ID),TMALL_URL+id):contains(o,M_INTL)||contains(o,H5)?buildTaobaoURL(o,ITEM_ID,!1):contains(o,WORLD)?contains(o,"item")?buildTaobaoURL(o,ITEM,!1):o.replace("world.taobao.com","taobao.com"):contains(o,SHOP_M)?buildTaobaoURL(o,SHOP_ID,!0):contains(o,"item")?buildTaobaoURL(o,"id=",!1):o.replace("m.taobao.com","taobao.com")}function getID(o,t){for(var a=o.indexOf(t)+t.length,i=o.length,n=a;n<o.length;n++)if(!isDigit(o.charAt(n))){i=n;break}return o.substring(a,i)}function buildTaobaoURL(o,t,a){if(a){var i=getID(o,t);return SHOP_URL.replace("{}",i)}var n=getID(o,t);return TAOBAO_URL+n}function isTaobaoURL(o){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return t.test(o)&&(-1!=o.indexOf("taobao.com")||-1!=o.indexOf("tmall.com"))}function contains(o,t){return-1!=o.indexOf(t)}function isDigit(o){return o=o.charCodeAt(0),o>=48&&57>=o}const ITEM_ID="id=",ITEM="item/",SHOP_ID="shop_id=",TAOBAO_URL="https://item.taobao.com/item.htm?id=",TMALL_URL="https://detail.tmall.com/item.htm?id=",SHOP_URL="https://shop{}.taobao.com",M_INTL="m.intl.taobao.com",H5="h5.m.taobao.com",WORLD="world.taobao.com",SHOP_M="shop.m.taobao.com";